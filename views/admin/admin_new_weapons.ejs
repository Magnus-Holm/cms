<% include admin-partials/admin_head.ejs %>
<% include admin-partials/headerAdmin.ejs %>
<main role="main">
	<% include admin-partials/navAdmin.ejs %>
	<section>
		<form class="patchForm">
			<label for="name">Item Navn</label>
			<input type="text" id="name" name="name">

			<label for="picture">Picture</label>
			<input type="file" id="picture" name="picture">

			<img class="itemImg" src="" alt="">

			<label for="damage">Damage</label>
			<input type="text" id="damage" name="damage" value="0/0/0/0">

			<label for="aux">AUX effect</label>
			<input type="text" id="aux" name="aux" value="-/-/-/-">

			<label for="reduction">Damage Reduction</label>
			<input type="text" id="reduction" name="reduction" value="0/0/0/0">

			<label for="critical">Critical</label>
			<input type="text" id="critical" name="critical" value="0">

			<label for="durability">Durability</label>
			<input type="text" id="durability" name="durability" value="0">

			<label for="range">Range</label>
			<input type="text" id="range" name="range" value="0">

			<label for="stability">Stability</label>
			<input type="text" id="stability" name="stability" value="0">

			<label for="weight">Weight</label>
			<input type="text" id="weight" name="weight" value="0">

			<label for="requirements">Stat requirements</label>
			<input type="text" id="requirements" name="requirements" value="0/0/0/0">

			<label for="scaling">Stat Scaling</label>
			<input type="text" id="scaling" name="scaling" value="-/-/-/-">

			<label for="type">Type</label>
			<select name="type" id="type">
				<% weapon_type.forEach(type => { %>
				<option value="<%= type.id %>" <% if (result.weapon_type==type.id ){%> selected
					<%} %>>
					<%= type.name %>
				</option>
				<% }); %>
			</select>

			<label for="notes">Notes</label>
			<textarea name="notes" id="notes" cols="30" rows="10"><%= result.notes %></textarea>

			<button type="submit">Update</button>
		</form>
	</section>
</main>
<script>
	// const form = document.querySelector('.patchForm');
	// form.addEventListener('submit', function (event) {
	// 	event.preventDefault();
	// 	fetch(`/admin/weapons/edit/${this.id.value}`, {
	// 			method: 'PATCH',
	// 			headers: {
	// 				'Content-Type': 'application/json'
	// 			},
	// 			body: JSON.stringify({
	// 				name: form.name.value,
	// 				picture: form.picture.value,
	// 				damage: form.damage.value,
	// 				aux: form.aux.value,
	// 				reduction: form.reduction.value,
	// 				critical: form.critical.value,
	// 				durability: form.durability.value,
	// 				range: form.range.value,
	// 				stability: form.stability.value,
	// 				weight: form.weight.value,
	// 				requirements: form.requirements.value,
	// 				scaling: form.scaling.value,
	// 				type: form.type.value,
	// 				notes: form.notes.value
	// 			})
	// 		})
	// 		.then(response => {
	// 			if (response.status === 200) {
	// 				window.location.href = '/admin/weapons';
	// 			}
	// 		});
	// });
</script>
</body>

</html>